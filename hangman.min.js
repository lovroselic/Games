
$(document).ready(function(){MEDIUM_MODIFIER=5;MAX_LIVES=7;lives=MAX_LIVES;UN_CHAR="_";alphaBET="abcdefghijklmnopqrstuvwxyz".toUpperCase();$("#start").click(function(){startGame()});$("#guess").click(function(){checkLetter()});$("#getLetter").keypress(function(a){if(a.which==13){a.preventDefault();checkLetter()}})});function checkLetter(){theLetter=$("#getLetter").val();theLetter=theLetter.toUpperCase();if(theLetter===""){$("#message").html("Message: <span class='red'>please, enter a letter.</span>");return}if(alphaBET.indexOf(theLetter)===-1){$("#message").html("Message: <span class='red'>this was not a letter</span>");$("#getLetter").val("");return}var a=newSentence.indexOf(theLetter);if(a===-1){$("#leftovers").append(theLetter+", ");$("#message").html("Message: <span class='red'>incorrect letter</span>");lives--;$("#story").html("<img src='/Images/hangman"+lives+".png' width='440'>");if(lives===0){$("#message").html("Message: <span class='red'>You FAILED!<br> Solution was: </span>"+newSentence);tidy()}}else{addChar(theLetter);CS=colourLetter(theLetter);$("#buildSentence").html(CS);$("#message").html("Message: <span class='green'>correct letter</span>");var b=guessSentence.indexOf(UN_CHAR);if(b===-1){$("#message").html("Message: <span class='green'>Great work. You have completed the sentence!</span>");$("#story").html("<img src='/Images/hangman_win.png' width='440'>");tidy()}}$("#getLetter").val("");setLives()}function tidy(){$("#guess").prop("disabled",true);$("#getLetter").prop("disabled",true);$("#start").prop("disabled",false);$("input[name='level']").prop("disabled",false)}function unTidy(){$("#guess").prop("disabled",false);$("#getLetter").prop("disabled",false);$("#start").prop("disabled",true);$("input[name='level']").prop("disabled",true);$("#message").html("Message: ");$("#leftovers").html("Incorrect letters: ");lives=MAX_LIVES}function addChar(b){var a=newSentence.indexOf(b);guessSentence=guessSentence.split("");while(a!=-1){guessSentence[a]=newSentence[a];a=newSentence.indexOf(b,a+1)}guessSentence=guessSentence.join("")}function colourLetter(c){var a=guessSentence;a=a.split("");var b=a.indexOf(c);while(b!=-1){a[b]='<span class="blue">'+a[b]+"</span>";b=a.indexOf(c,b+1)}a=a.join("");return a}function startGame(){easy=false;medium=false;hard=false;unTidy();setUp();newSentence=createSentence();guessSentence=displaySentence(newSentence);console.log(newSentence);selectLevel();if(easy){guessSentence=hintSentence(guessSentence,newSentence);completnessTest=guessSentence.indexOf(UN_CHAR);while(completnessTest===-1){newSentence=createSentence();guessSentence=displaySentence(newSentence);guessSentence=hintSentence(guessSentence,newSentence);completnessTest=guessSentence.indexOf(UN_CHAR)}}else{if(medium){guessSentence=addFewLetters(guessSentence,newSentence,MEDIUM_MODIFIER);addChar("'")}else{addChar("'")}}$("#buildSentence").html(guessSentence);setLives();$("#story").html("<img src='/Images/hangman7.png' width='440'>");$("#getLetter").focus()}function setLives(){var a=String.fromCharCode(9608);a=stringFill(a,lives);if(lives===1){a="<span class='red'>"+a+"</span>"}else{if(lives<4){a="<span class='yellow'>"+a+"</span>"}else{a="<span class='green'>"+a+"</span>"}}$("#lives").html("Forgiveness: "+a)}function stringFill(a,c){var b="";for(;;){if(c&1){b+=a}c>>=1;if(c){a+=a}else{break}}return b}function selectLevel(){$level=$("input[name='level']");var b=$level.length;for(var a=0;a<b;a++){if($level[a].checked===true){lvl=$level[a].value}}switch(lvl){case"easy":easy=true;return;case"medium":medium=true;return;case"hard":hard=true;return;default:break}}function setUp(){who1=["a cat","a dog","a snail","a kitten","an elephant","a mouse","a bird","a zebra","a snake","a cow","a bull","a donkey","a duck","a horse","a pig"];who2=["my sister","his brother","my mother","your father","her grandmother","your grandfather","my pet","your wife","her husband","my daughter","her son"];who3=["John","Paul","George","Mary","Monica","Nina","a ghost","a little boy","a big girl","a bus driver","a fat cook","mad scientist","crazy scientist"];who4=["the teacher","the policeman","the postman","the undertaker","the baker","a sailor","a soldier","a tailor","melting snowman","brave knight"];who5=["Peter's kid","Jonathan's brother","Anne's sister","Alexandra's cat","Frank's aunt","Dorothy's uncle","merciless cat","sad clown"];who6=["my giraffe","her chicken","a gorilla","your monkey","Mrs Weasley","Lord Voldemort","King Joffrey","the prince","a princess"];who7=["a lion","a tiger","a taxi driver","a taxman","a doctor","an office worker","a farmer","a librarian","a pilot","A SHOP ASSISTANT","A SCIENTIST","AN ASTRONAUT"];who8=["A NURSE","A SCHOOL CARETAKER","A CLEANING LADY","a policeman","a clerk","an angel","a snowman","a farmer","a scientist","a caretaker","a doctor","a superhero","a cowboy","a knight","a fairy","a clown","a vampire","a mermaid","a witch","an indian","a dwarf","a devil","a teletubby","a pirate","a ghost"];Who=who1.concat(who2,who3,who4,who5,who6,who7,who8);verb1=["is eating cake","is drinking beer","is walking","is swimming","is climbing mountains","is driving a lorry","is drawing pictures","is cleaning house","is breaking things"];verb2=["is sleeping","is talking","is shouting","is screaming","is sitting","is riding a bicycle","is shooting","is singing songs"];verb3=["is typing a letter","is writing a book","is playing games","is running","is standing","is picking apples","is sewing a dress","is printing newspaper"];verb4=["is kissing frogs","is shovelling dirt","is drinking juice","is licking ice cream","is crying","is laughing","is sneaking","is watching tv"];verb5=["is working","is questioning prisoners","is bathing","is blinking","is chewing gum","is concentrating","is counting mice","is dancing"];verb6=["is dressing","is exploding","is fighting trolls","is kneeling","is living","is measuring","is preaching","is racing","is smiling"];verb7=["is crawling","is flying","is jumping","is boxing","is fixing computer","is mixing paint","is explaining","is barking","is serving lunch"];verb1s=["eats cakes","drinks water","walks","swims","climbs a tree","drives a car","draws pictures","sleeps","talks","shouts","sings songs"];verb2s=["screams","sits","writes poems","plays guitar","runs","stands","works","experiments","lives","crawls","jumps","barks"];verb1p=["ate","drank","walked","climbed the mountain","drove the car","drew a picture","slept","talked","shouted","screamed"];verb2p=["typed letter","wrote poems","rode horse","played guitar","worked","crawled","jumped","barked"];What=verb1.concat(verb2,verb3,verb4,verb5,verb6,verb7,verb1s,verb2s,verb1p,verb2p);where1=["in the garden","in the bathroom","in the kitchen","in the bedroom","at school","in the garage","in Africa","in the hallway","in the church"];where2=["in the supermarket","at the coast","in the office","in the living room","in the cellar","in the attic","in the space","at the airport","in the plane"];where3=["at the post office","at the police station","at the train station","at the pool","in the pool","on the moon","in the lake"];where4=["under the bridge","under bed","on the shelf","at the river","at the beach","under umbrella","on top of the mountain","at the bottom of the sea"];where5=["downstairs","outside","underground","upstairs","somewhere","in the factory","in the box","in the toilet"];Where=where1.concat(where2,where3,where4,where5);when1=["in the afternoon","in the morning","on saturday evening","on sunday morning","on monday afternoon","in the summer","in the winter"];when2=["at five o'clock","at seven o'clock","at half past three","in the spring","in the autumn","in the sandbox"];When=when1.concat(when2);how1=["very slowly","quickly","madly","angrily","lovingly","quietly","patiently","loudly","carefully","urgently","awfully"];how2=["very fast","happily","sadly","badly","carelessly","helplessly","hungrily","joyfully","nervously","reluctantly","unhappily"];how3=["with a pickaxe","with an axe","beautifully","blindly","boldly","bravely","calmly","cautiously","cheerfully","daringly","foolishly","gently","gracefully"];how4=["greedily","hungrily","lazily","loudly","nervously","patiently","politely","recklessly","reluctantly","selfishly","sleepily","silently"];How=how1.concat(how2,how3,how4);lastPart=Where.concat(When,How)}function rnd(b,a){return Math.floor(Math.random()*(++a-b)+b)}function createSentence(){var c=Who[rnd(1,Who.length)-1];var b=What[rnd(1,What.length)-1];var a=lastPart[rnd(1,lastPart.length)-1];console.log((Who.length*What.length*lastPart.length)+" combinations possible.");return(c+" "+b+" "+a).toUpperCase()}function displaySentence(d){var a=[];var c=d.length;for(var b=0;b<c;b++){if(d[b]!=" "){a[b]=UN_CHAR}else{a[b]=d[b]}}a=a.join("");return a}function hintSentence(c,e){c=c.split("");var b=0;c[b]=e[b];b=c.indexOf(" ",b);while(b!=-1){c[b-1]=e[b-1];c[b+1]=e[b+1];b=c.indexOf(" ",b+1)}b=e.length;c[b-1]=e[b-1];b=e.indexOf("'");if(b!=-1){c[b]=e[b]}var a=[];var d=c.length;for(i=0;i<d;i++){if("* '".indexOf(c[i])===-1){a.push(c[i])}}a=a.join("");c=fillLetters(c,e,a);c=c.join("");return c}function fillLetters(a,d,c){var b=d.length;for(i=0;i<b;i++){if(c.indexOf(d[i])!=-1){a[i]=d[i]}}return a}function addFewLetters(b,e,d){b=b.split("");var c="abcdefghijklmnopqrstuvwxyz".toUpperCase();c=c.split("");var a="";for(i=1;i<=d;i++){NL=c[rnd(1,c.length)-1];if(e.indexOf(NL)===-1){d++}else{a+=NL}idx=c.indexOf(NL);c.splice(idx,1)}b=fillLetters(b,e,a);b=b.join("");return b};